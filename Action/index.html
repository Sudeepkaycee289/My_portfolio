<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Icon Cloud</title>
    <style>
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            background-color: #f3f2ef;
            transition: background-color 0.3s ease;
        }

        body.dark-mode {
            background-color: #080510;
        }

        #icon-cloud {
            display: flex;
            justify-content: center;
            align-items: center;
            width: 100%;
            height: 400px;
            position: relative;
            perspective: 1000px; /* Adds a 3D perspective */
        }

        .icon {
            position: absolute;
            transition: transform 0.5s ease;
            cursor: default;
            max-width: 42px;
            max-height: 42px;
        }

        #theme-toggle {
            position: absolute;
            top: 20px;
            right: 20px;
            padding: 10px;
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <button id="theme-toggle">Toggle Theme</button>
    <div id="icon-cloud"></div>

    <script>
        // Sample icon data (replace with your actual icon data)
        const iconData = [
            { name: 'React', url: 'https://cdn.simpleicons.org/react/61DAFB' },
            { name: 'JavaScript', url: 'https://cdn.simpleicons.org/javascript/F7DF1E' },
            { name: 'HTML5', url: 'https://cdn.simpleicons.org/html5/E34F26' },
            { name: 'CSS3', url: 'https://cdn.simpleicons.org/css3/1572B6' },
            { name: 'Node.js', url: 'https://cdn.simpleicons.org/nodedotjs/339933' },
            { name: 'TypeScript', url: 'https://cdn.simpleicons.org/typescript/3178C6' }
        ];

        class IconCloud {
            constructor(containerId, icons) {
                this.container = document.getElementById(containerId);
                this.icons = icons;
                this.theme = 'light';
                this.init();
            }

            init() {
                this.createIcons();
                this.animateIcons();
                this.attachEvents();
            }

            createIcons() {
                this.icons.forEach((icon, index) => {
                    const img = document.createElement('img');
                    img.src = icon.url;
                    img.alt = icon.name;
                    img.classList.add('icon');
                    img.style.width = '42px';  // Ensure proper icon size
                    img.style.height = '42px'; // Ensure proper icon size
                    this.container.appendChild(img);
                });
            }

            animateIcons() {
                const icons = this.container.querySelectorAll('.icon');
                const radius = 200; // Radius of the circular arrangement
                const centerX = this.container.offsetWidth / 2;
                const centerY = this.container.offsetHeight / 2;

                icons.forEach((icon, index) => {
                    const angle = (index / icons.length) * Math.PI * 2; // Distribute icons in circle
                    const x = centerX + Math.cos(angle) * radius - 21; // Adjust for icon center (half the width)
                    const y = centerY + Math.sin(angle) * radius - 21; // Adjust for icon center (half the height)

                    // Position icons in a circular pattern
                    icon.style.transform = `translate(${x}px, ${y}px) rotateY(${angle}rad)`;
                });
            }

            attachEvents() {
                // Event listener for theme toggle button
                const themeToggle = document.getElementById('theme-toggle');
                themeToggle.addEventListener('click', () => this.toggleTheme());

                // Event listener for mouse move to rotate cloud
                this.container.addEventListener('mousemove', (e) => this.rotateCloud(e));
            }

            rotateCloud(event) {
                const rect = this.container.getBoundingClientRect();
                const centerX = rect.left + rect.width / 2;
                const centerY = rect.top + rect.height / 2;

                const mouseX = event.clientX;
                const mouseY = event.clientY;

                const angleX = -(mouseY - centerY) * 0.05; // Adjust sensitivity
                const angleY = (mouseX - centerX) * 0.05; // Adjust sensitivity

                // Apply 3D rotation based on mouse position
                this.container.style.transform = `rotateX(${angleX}deg) rotateY(${angleY}deg)`;
            }

            toggleTheme() {
                // Toggle between light and dark theme
                this.theme = this.theme === 'light' ? 'dark' : 'light';
                document.body.classList.toggle('dark-mode');
            }
        }

        // Initialize the icon cloud after the DOM is fully loaded
        document.addEventListener('DOMContentLoaded', () => {
            new IconCloud('icon-cloud', iconData);
        });
    </script>
</body>
</html>
